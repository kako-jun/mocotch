# {project_name}

Mocotch RPGゲームプロジェクト

## プロジェクト概要

このリポジトリは [Mocotch](https://github.com/kako-jun/mocotch) で作成されたRPGゲームのデータを管理します。

- **プロジェクト名**: {project_name}
- **作成日**: {created_date}
- **Mocotchバージョン**: {mocotch_version}

## ファイル構造

```
{project_name}/
├── game.json           # ゲームデータ（マップ、NPC、プレイヤー設定など）
├── .mocotch.json       # Mocotchメタデータ（gitignore対象）
├── .gitignore          # Git除外設定
├── README.md           # このファイル
└── assets/             # ゲームアセット
    ├── images/         # 画像ファイル（PNG, JPG, GIF等）
    ├── sounds/         # 音声ファイル（MP3, WAV, OGG等）
    └── movies/         # 動画ファイル（MP4, WEBM等）
```

## ゲームデータフォーマット

### game.json

ゲームのすべてのデータはこのファイルに保存されます：

```json
{
  "name": "my-rpg-game",
  "version": "1.0.0",
  "map": {
    "width": 25,
    "height": 19,
    "tile_size": 32,
    "tiles": [
      [0, 0, 1, 2, ...],
      [0, 1, 1, 1, ...],
      ...
    ]
  },
  "player": {
    "x": 5,
    "y": 5,
    "direction": "down"
  },
  "npcs": [
    {
      "id": "npc1",
      "name": "村人1",
      "x": 4,
      "y": 3,
      "message": "こんにちは！",
      "color": 16743275
    }
  ],
  "events": []
}
```

### タイルタイプ

- `0`: 草地（通行可能）
- `1`: 道（通行可能）
- `2`: 木（通行不可）
- `3`: 水（通行不可）

### プレイヤー方向

- `up`: 上
- `down`: 下
- `left`: 左
- `right`: 右

### NPC設定

- **id**: ユニークな識別子
- **name**: NPCの名前
- **x, y**: マップ上の位置（グリッド座標）
- **message**: 話しかけたときのメッセージ
- **color**: NPCの色（RGB 16進数）

## アセット管理

### 対応フォーマット

- **画像**: PNG, JPG, JPEG, GIF, BMP, SVG
- **音声**: MP3, WAV, OGG, M4A, AAC
- **動画**: MP4, WEBM, OGV

### アセットの配置

1. Mocotchエディタの「アセット」タブを開く
2. 対応するタイプ（画像/音声/動画）を選択
3. ファイルをアップロードまたはドラッグ&ドロップ

アセットは自動的に `assets/` ディレクトリに保存されます。

## 開発ワークフロー

### 編集

1. Mocotchを起動し、このプロジェクトを開く
2. エディットモードで以下を編集：
   - **マップ**: タイル配置エディタ
   - **NPC**: NPC配置・会話設定
   - **プレイヤー**: 初期位置・方向設定
   - **アセット**: 画像・音声・動画の管理
3. 変更は自動保存される（ワーキングディレクトリ）

### 保存（コミット）

1. エディタ右下の「💾」ボタンをクリック
2. 変更がGitにコミットされ、リモートにプッシュされる
3. ブランチは自動的に管理される

### テスト

1. エディタ右下の「▶️」ボタンでプレイモードに切り替え
2. ゲームをプレイして動作確認
3. 問題があればエディットモードに戻って修正

### 変更の破棄

1. エディタ右下の「↩️」ボタンをクリック
2. 未コミットの変更がすべて破棄される
3. 最後のコミット状態に戻る

## ブランチ戦略

- **develop**: 開発ブランチ（編集作業用）
- **main**: 本番ブランチ（安定版）

Mocotchは通常 `develop` ブランチで作業します。

## バージョン管理

### コミットメッセージ

Mocotchは自動的にコミットメッセージを生成しますが、手動でカスタマイズも可能です。

### 履歴の確認

```bash
git log --oneline
```

### 特定バージョンへの復元

```bash
git checkout <commit-hash>
git checkout -b restore-version
```

## トラブルシューティング

### ゲームが正しく動作しない

1. `game.json` の構文エラーをチェック
2. プレイヤーの初期位置が通行不可タイルでないか確認
3. NPCの座標が範囲内か確認

### アセットが表示されない

1. ファイル名に日本語や特殊文字が含まれていないか確認
2. ファイル形式が対応しているか確認
3. ファイルサイズが大きすぎないか確認（推奨: 画像10MB以下）

### コミットに失敗する

1. Gitの認証情報を確認
2. リモートリポジトリへの接続を確認
3. Mocotchのログを確認

## ライセンス

このゲームプロジェクトのライセンスは開発者が決定します。

## 関連リンク

- [Mocotch リポジトリ](https://github.com/kako-jun/mocotch)
- [Phaser 3 ドキュメント](https://photonstorm.github.io/phaser3-docs/)
- [RPG開発チュートリアル](https://github.com/kako-jun/mocotch/wiki)
